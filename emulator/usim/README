CADR simulator
9/1/04
Brad Parker
brad@heeltoe.com

What is this?
-------------

This is a simple hack designed to simulate (emulate?) the CADR
hardware.  A CADR is a second generation MIT lisp machine.  A good
description can be found in "A.I. Memo 528" from the MIT AI Labs
entitled, "CADR".

The CADR was a 32 bit microcoded machine designed to run the lisp
language.

This program attempts to run the microcode found in the machine
starting with the "prom" microcode which runs when the machine is
first powered on.

What state is this in?
----------------------

The emulation is about 75% done.  It gets pretty far into the prom
code.  The disk emulation is a hack, but enough to get past the disk
label code.  I think most of the ALU code is ok as is the branch and
byte code.

The divide code is broken and needs to be fixed.  I put in a hack
which shifts Q initially and now it seems ok, but I think something is
wrong with my emulation of the h/w.

The dispatch code is non-existant.  This needs to be added.  I am
missing page 18 of the CADR memo.  I think this is important for
dispatch.

I added some basic disk emulation and a program to create a disk image
with a microcode band.

What needs to be done?
----------------------

- fix the divide code
- fill in the dispatch emulation

And most important, find a valid load band.  Without this the emulation
is uninteresting.  Once we have a load band

- add "tv" emulation
- add mouse & keyboard emulation

And then we can boot the CADR into the lisp environment.

Long term I want to do some recompiling of the microcode into C and
assembler, both statically and on-the-fly.  This is the interesting
part for me :-)


